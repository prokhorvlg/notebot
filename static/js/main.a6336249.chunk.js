(this.webpackJsonpnotebot=this.webpackJsonpnotebot||[]).push([[0],{42:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var o=c(1),n=c.n(o),a=c(36),r=c.n(a),i=(c(42),c(21)),s=c(6),l=c(13),d=c(16),u=c(25);c(68);u.a.initializeApp({apiKey:"AIzaSyDdCjbP7lQVb7--7uraYnkEdLGjWTmWckE",authDomain:"notebot-42.firebaseapp.com",databaseURL:"https://notebot-42.firebaseio.com",projectId:"notebot-42",storageBucket:"notebot-42.appspot.com",messagingSenderId:"884273569921",appId:"1:884273569921:web:e56bf1258d353e4ae02d80",measurementId:"G-7B4K7B82XL"});var f=u.a,j=c(15),b=c.n(j),h=c(27),g=c(19),O=c(20),m=new(function(){function e(){Object(g.a)(this,e)}return Object(O.a)(e,[{key:"loadUser",value:function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.firestore().collection("users").doc(t).get().then((function(e){e.exists?console.log("Document data:",e.data()):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.firestore().collection("users").add({title:"user",categories:[],notes:[]}).then((function(e){return e.id})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createCategory",value:function(e){f.firestore().collection("users").doc(e).collection("categories").add({title:"category",color:"#0f0"}).then((function(e){return e.id})),f.firestore().collection("users").add({title:"New Category",body:"This is to check the Integration is working"})}}]),e}()),x=c(28),v=(c(48),c(37)),p=c.n(v),y=c(2),k=function(e){var t=e.category,c=e.changeCategory,n=e.deleteCategory,a=e.selectCategory,r=Object(o.useRef)(null);Object(o.useEffect)((function(){t.editMode&&r.current.focus()}),[t.editMode]);var i=Object(x.b)("hex",t.color),l=Object(s.a)(i,2),d=l[0],u=l[1];Object(o.useEffect)((function(){console.log(d),c(t.id,{color:d.hex})}),[d]);var f;return f=t.selected?" selected":"",t.editMode?Object(y.jsx)("li",{className:"category-item-linkMode",children:Object(y.jsx)("input",{id:"category-"+t.id,ref:r,placeholder:"Enter a category title.",onInput:function(e){return function(e){c(t.id,{name:e.target.value})}(e)},onKeyDown:function(e){return function(e){"Enter"===e.key&&e.target.blur()}(e)},onBlur:function(e){return function(e){""===e.target.value?n(t.id):(c(t.id,{name:e.target.value,editMode:!1}),a(t.id))}(e)},value:t.name})}):Object(y.jsxs)("li",{className:"category-item-linkMode",children:[Object(y.jsx)("a",{id:"category-"+t.id,ref:r,className:f,style:{color:t.color,borderColor:t.color,backgroundColor:t.color},href:"#",onClick:function(e){a(t.id)},children:t.name}),t.editColorMode>0&&Object(y.jsx)(p.a,{onOutsideClick:function(e){c(t.id,{editColorMode:!1})},children:Object(y.jsx)("div",{className:"category-colorPicker",children:Object(y.jsx)(x.a,{width:300,height:100,color:d,onChange:u,hideHSV:!0,hideRGB:!0,hideHEX:!0,dark:!0})})})]})},C=function(){var e=function(e,t){return t.find((function(t){return t.id===e}))},t=function(e,t){return t.map((function(e){return e.id})).indexOf(e)},c=Object(o.useState)(null),a=Object(s.a)(c,2),r=a[0],u=a[1],f=Object(o.useState)(-1),j=Object(s.a)(f,2),b=j[0],h=j[1],g=Object(o.useState)([{id:0,name:"Personal",color:"#00ff84",editMode:!1,colorEditMode:!1,selected:!1},{id:1,name:"Work",color:"#ffb322",editMode:!1,colorEditMode:!1,selected:!1},{id:2,name:"Miscellaneous",color:"#16ecff",editMode:!1,colorEditMode:!1,selected:!1}]),O=Object(s.a)(g,2),x=O[0],v=O[1];n.a.useEffect((function(){}),[x]);var p=Object(o.useRef)(null),C=Object(o.useState)("white"),N=Object(s.a)(C,2),M=N[0],E=N[1];n.a.useEffect((function(){E(-1!==b?e(b,x).color:"white")}),[b,x]);var S=Object(o.useState)(null),w=Object(s.a)(S,2),I=(w[0],w[1],Object(o.useState)([{id:0,title:"Title of a note",category:0,created:"Date",modified:"Date",contents:"Contents of a note."}])),D=Object(s.a)(I,2),B=(D[0],D[1],Object(o.useState)("")),U=Object(s.a)(B,2),W=U[0];U[1];n.a.useEffect((function(){}),[W]),n.a.useEffect((function(){var e=T();e&&0!==Object.keys(e).length?(m.loadUser(e.userId),u(e.userId)):m.createUser().then((function(e){u(e),P()}))}),[]),n.a.useEffect((function(){console.log(x)}));var L,P=function(){var e=r;localStorage.setItem("notebotUserStore",JSON.stringify(e))},T=function(){return JSON.parse(localStorage.getItem("notebotUserStore"))},A=function(){var e,t=(e=x).length>0?parseInt(e[e.length-1].id)+1:0,c={id:t,name:"",color:function(){var e=["#91aaff","#ff9e9e","#ff80c5","#7afbff","#8aff9c"];return e[Math.floor(Math.random()*e.length)]}(),editMode:!0,colorEditMode:!1,selected:!1};return v((function(e){return[].concat(Object(i.a)(e),[c])})),t},F=function(c,o){console.log(c,o);var n=e(c,x),a=Object.assign(n,o),r=Object(i.a)(x);r[t(c,x)]=a,v(r)},J=function(e){-1!==b&&F(b,{selected:!1}),h(e),-1===e||F(e,{selected:!0})},R=function(e){var c=Object(i.a)(x),o=t(e,x);c.splice(o,1),v(c),h(-1)};return L=-1===b?" selected":"",Object(y.jsxs)("div",{className:"app-container",children:[Object(y.jsxs)("div",{className:"main-column",children:[Object(y.jsxs)("div",{className:"main-logo",children:[Object(y.jsx)("div",{className:"box-logo"}),Object(y.jsx)("h1",{children:"Notebot"})]}),Object(y.jsxs)("div",{className:"main-categories",children:[Object(y.jsxs)("ul",{className:"main-categories-list",children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{id:"category-all",ref:p,href:"#",className:"category-all "+L,onClick:function(e){e.preventDefault(),J(-1)},children:"All Notes"})}),x.map((function(e,t){return Object(y.jsx)(k,{category:e,changeCategory:F,deleteCategory:R,selectCategory:J})}))]}),Object(y.jsxs)("div",{style:{borderColor:M},className:"main-categories-controls",children:[Object(y.jsxs)("a",{href:"#",onClick:function(e){e.preventDefault(),-1!==b&&F(b,{editMode:!0,editColorMode:!1})},children:[Object(y.jsx)(l.a,{icon:d.a,color:M,className:"fa-link-icon",fixedWidth:!0}),"Edit title"]}),Object(y.jsxs)("a",{href:"#",onClick:function(e){e.preventDefault(),-1!==b&&F(b,{editMode:!1,editColorMode:!0})},children:[Object(y.jsx)(l.a,{icon:d.b,color:M,className:"fa-link-icon",fixedWidth:!0}),"Edit color"]}),Object(y.jsxs)("a",{href:"#",onClick:function(e){e.preventDefault(),-1!==b&&R(b)},children:[Object(y.jsx)(l.a,{icon:d.d,color:M,className:"fa-link-icon",fixedWidth:!0}),"Delete category"]})]}),Object(y.jsx)("div",{className:"main-categories-add",children:Object(y.jsxs)("a",{href:"#",onClick:function(){A()},children:[Object(y.jsx)(l.a,{icon:d.c,className:"fa-link-icon"}),"Add category"]})})]})]}),Object(y.jsxs)("div",{className:"list-column",children:[Object(y.jsx)("ul",{}),Object(y.jsx)("div",{className:"note-controls"})]}),Object(y.jsxs)("div",{className:"note-column",children:[Object(y.jsx)("div",{className:"note-title-bar"}),Object(y.jsx)("div",{className:"note-contents"})]})]})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,o=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),o(e),n(e),a(e),r(e)}))};r.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(C,{})}),document.getElementById("root")),N()}},[[67,1,2]]]);
//# sourceMappingURL=main.a6336249.chunk.js.map