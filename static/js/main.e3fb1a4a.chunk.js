(this.webpackJsonpnotebot=this.webpackJsonpnotebot||[]).push([[0],{27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n.n(c),r=n(22),a=n.n(r),i=(n(27),n(16)),s=n(10),l=(n(28),n(29),n(18));n(34);l.a.initializeApp({apiKey:"AIzaSyDdCjbP7lQVb7--7uraYnkEdLGjWTmWckE",authDomain:"notebot-42.firebaseapp.com",databaseURL:"https://notebot-42.firebaseio.com",projectId:"notebot-42",storageBucket:"notebot-42.appspot.com",messagingSenderId:"884273569921",appId:"1:884273569921:web:e56bf1258d353e4ae02d80",measurementId:"G-7B4K7B82XL"});var u=l.a,d=n(12),j=n.n(d),f=n(20),b=n(14),h=n(15),g=new(function(){function e(){Object(b.a)(this,e)}return Object(h.a)(e,[{key:"loadUser",value:function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.firestore().collection("users").doc(t).get().then((function(e){e.exists?console.log("Document data:",e.data()):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.firestore().collection("users").add({title:"user",categories:[],notes:[]}).then((function(e){return e.id})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createCategory",value:function(e){u.firestore().collection("users").doc(e).collection("categories").add({title:"category",color:"#0f0"}).then((function(e){return e.id})),u.firestore().collection("users").add({title:"New Category",body:"This is to check the Integration is working"})}}]),e}()),O=n(1),m=function(e){var t=e.category,n=e.changeCategory,o=e.deleteCategory,r=e.selectCategory,a=Object(c.useRef)(null);Object(c.useEffect)((function(){t.editMode&&a.current.focus()}),[t.editMode]);var i;return i=t.selected?" selected":"",t.editMode?Object(O.jsx)("li",{children:Object(O.jsx)("input",{id:"category-"+t.id,ref:a,placeholder:"Enter a category title.",onInput:function(e){return function(e){n(t.id,{name:e.target.value})}(e)},onKeyDown:function(e){return function(e){"Enter"===e.key&&e.target.blur()}(e)},onBlur:function(e){return function(e){""===e.target.value?o(t.id):(n(t.id,{name:e.target.value,editMode:!1}),r(t.id))}(e)},value:t.name})}):Object(O.jsx)("li",{children:Object(O.jsx)("a",{id:"category-"+t.id,ref:a,class:i,href:"#",onClick:function(e){r(t.id)},children:t.name})})},p=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(-1),l=Object(s.a)(a,2),u=l[0],d=l[1],j=Object(c.useState)([{id:0,name:"Personal",color:"green",editMode:!1,selected:!1}]),f=Object(s.a)(j,2),b=f[0],h=f[1];o.a.useEffect((function(){}),[b]);var p=Object(c.useState)(null),v=Object(s.a)(p,2),x=(v[0],v[1],Object(c.useState)([{id:0,title:"Title of a note",category:0,created:"Date",modified:"Date",contents:"Contents of a note."}])),y=Object(s.a)(x,2),k=(y[0],y[1],Object(c.useRef)(null)),C=Object(c.useState)(""),N=Object(s.a)(C,2),S=N[0];N[1];o.a.useEffect((function(){}),[S]),o.a.useEffect((function(){var e=w();e&&0!==Object.keys(e).length?(g.loadUser(e.userId),r(e.userId)):g.createUser().then((function(e){r(e),E()}))}),[]),o.a.useEffect((function(){console.log(b)}));var I,E=function(){var e=n;localStorage.setItem("notebotUserStore",JSON.stringify(e))},w=function(){return JSON.parse(localStorage.getItem("notebotUserStore"))},D=function(e,t){return t.map((function(e){return e.id})).indexOf(e)},M=function(){var e,t=(e=b).length>0?parseInt(e[e.length-1].id)+1:0,n={id:t,name:"",color:"",editMode:!0,selected:!1};return h((function(e){return[].concat(Object(i.a)(e),[n])})),t},U=function(e,t){console.log(e,t);var n=function(e,t){return t.find((function(t){return t.id===e}))}(e,b),c=Object.assign(n,t),o=Object(i.a)(b);o[D(e,b)]=c,h(o)},B=function(e){-1!==u&&U(u,{selected:!1}),d(e),-1===e||U(e,{selected:!0})},L=function(e){var t=Object(i.a)(b),n=D(e,b);t.splice(n,1),h(t),d(-1)};return I=-1===u?" selected":"",Object(O.jsxs)("div",{className:"app-container",children:[Object(O.jsxs)("div",{className:"main-column",children:[Object(O.jsxs)("div",{className:"main-logo",children:[Object(O.jsx)("div",{className:"box-logo"}),Object(O.jsx)("h1",{children:"Notebot"})]}),Object(O.jsxs)("div",{className:"main-desc",children:[Object(O.jsx)("p",{children:"A demo for a simple React-based local storage note taking application. Not intended for serious use."}),Object(O.jsx)("p",{children:"Created by @prokhorvlg (Valentin Sigalov)."})]}),Object(O.jsxs)("div",{className:"main-search",children:[Object(O.jsx)("h2",{children:"Search"}),Object(O.jsx)("input",{})]}),Object(O.jsxs)("div",{className:"main-categories",children:[Object(O.jsxs)("div",{className:"main-categories-bar",children:[Object(O.jsx)("h2",{children:"Categories"}),Object(O.jsx)("a",{href:"#",onClick:function(){M()},children:"Create category"}),Object(O.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),-1!==u&&U(u,{editMode:!0})},children:"Edit title"}),Object(O.jsx)("a",{href:"#",onClick:function(e){U(e,{color:"blue"})},children:"Edit color"}),Object(O.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),-1!==u&&L(u)},children:"Delete category"})]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{id:"category-all",ref:k,href:"#",class:I,onClick:function(e){e.preventDefault(),B(-1)},children:"All"})}),b.map((function(e,t){return Object(O.jsx)(m,{category:e,changeCategory:U,deleteCategory:L,selectCategory:B})}))]})]}),Object(O.jsx)("div",{className:"links-box",children:Object(O.jsx)("p",{children:"Visit my site at x!"})})]}),Object(O.jsxs)("div",{className:"list-column",children:[Object(O.jsx)("ul",{}),Object(O.jsx)("div",{className:"note-controls"})]}),Object(O.jsxs)("div",{className:"note-column",children:[Object(O.jsx)("div",{className:"note-title-bar"}),Object(O.jsx)("div",{className:"note-contents"})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(p,{})}),document.getElementById("root")),v()}},[[33,1,2]]]);
//# sourceMappingURL=main.e3fb1a4a.chunk.js.map